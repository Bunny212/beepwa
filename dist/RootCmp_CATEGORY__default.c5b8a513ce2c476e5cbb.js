/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~10.0.0, @magento/venia-sample-payments-checkmo: ^0.0.12, @magento/upward-security-headers: ^1.0.14, @magento/pwa-theme-venia: ~1.4.0, @magento/pwa-buildpack: ^11.4.1, @magento/peregrine: ~13.0.0, @magento/pagebuilder: ~8.0.0, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.2, @apollo/client: ~3.5.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"9teu":function(e,t,a){"use strict"
a.r(t),a.d(t,"default",function(){return fe})
var r,n,o,i,l,c,s,u=a("q1tI"),g=a.n(u),d=a("17x9"),m=a("Ty5D"),y=a("+TN3"),p=a("Lm/n"),b=a("y1Xp"),f=a("OlZo"),h=a("Cszt"),E=a("PKba"),_=a("Unmo"),v=a("+wQL"),P=a("VkAN"),O=a.n(P),j=a("UYTu"),F=Object(j.a)(r||(r=O()(["\n    # eslint-disable-next-line @graphql-eslint/require-id-when-available\n    fragment CategoryFragment on CategoryTree {\n        uid\n        meta_title\n        meta_keywords\n        meta_description\n    }\n"]))),C=Object(j.a)(n||(n=O()(["\n    fragment ProductsFragment on Products {\n        items {\n            id\n            uid\n            name\n            price_range {\n                maximum_price {\n                    final_price {\n                        currency\n                        value\n                    }\n                    regular_price {\n                        currency\n                        value\n                    }\n                    discount {\n                        amount_off\n                    }\n                }\n            }\n            sku\n            small_image {\n                url\n            }\n            stock_status\n            rating_summary\n            __typename\n            url_key\n        }\n        page_info {\n            total_pages\n        }\n        total_count\n    }\n"]))),S={getCategoryQuery:Object(j.a)(o||(o=O()(["\n    query GetCategories(\n        $id: String!\n        $pageSize: Int!\n        $currentPage: Int!\n        $filters: ProductAttributeFilterInput!\n        $sort: ProductAttributeSortInput\n    ) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                ...CategoryFragment\n            }\n        }\n        products(\n            pageSize: $pageSize\n            currentPage: $currentPage\n            filter: $filters\n            sort: $sort\n        ) {\n            ...ProductsFragment\n        }\n    }\n    ","\n    ","\n"])),F,C),getFilterInputsQuery:Object(j.a)(i||(i=O()(['\n    query GetFilterInputsForCategory {\n        __type(name: "ProductAttributeFilterInput") {\n            inputFields {\n                name\n                type {\n                    name\n                }\n            }\n        }\n    }\n'])))},I=a("kriW"),N=a("yf4o"),k=a("Cess"),x=Object(j.a)(l||(l=O()(["\n    query getProductFiltersByCategory(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            aggregations {\n                label\n                count\n                attribute_code\n                options {\n                    label\n                    value\n                }\n                position\n            }\n        }\n    }\n"]))),q={getCategoryContentQuery:Object(j.a)(c||(c=O()(["\n    query getCategoryData($id: String!) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                name\n                description\n                url_key\n                url_path\n            }\n        }\n    }\n"]))),getProductFiltersByCategoryQuery:x,getCategoryAvailableSortMethodsQuery:Object(j.a)(s||(s=O()(["\n    query getCategoryAvailableSortMethods(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            sort_fields {\n                options {\n                    label\n                    value\n                }\n            }\n        }\n    }\n"])))},w=a("Rpel"),T=a("pezu"),z=a("RL9Z"),M=a("LlM3"),D=a("vh/y"),$=a("rP9t"),B=a("UPvi"),A=a("C0us"),Q=a("tuiD"),L=a("JCOj"),R=a("STDB"),U=a("zrp3"),G=a("Y5d+"),W=a("hbEb"),Y=a("I7WN"),H=a("dDsW"),J=a("55Ip"),V=a("UqBt"),Z=e=>Boolean(e.parentId),K=a("STEg"),X=a("OlhY"),ee=a.p+"noProductsFound-aGB.png",te=a("LboF"),ae=a.n(te),re=a("ZBw8"),ne={injectType:"singletonStyleTag",insert:"head",singleton:!0},oe=(ae()(re.a,ne),re.a.locals||{}),ie=e=>{var{categoryId:t}=e,a=Object(b.a)(oe,e.classes),{formatMessage:r}=Object(H.a)(),n=(e=>{var{categoryId:t}=e,[{categories:a}]=Object(V.b)()
return{recommendedCategories:Object(u.useMemo)(()=>{var e,r=Object.values(a).filter(Z).filter(e=>e.id!==t),n=r.length
if(n<=3)e=r
else{var o=n-3+1,i=Math.floor(Math.random()*o),l=i+3
e=r.slice(i,l)}return e},[t,a])}})({categoryId:t}),{recommendedCategories:o}=n,i=Object(u.useMemo)(()=>o.map(e=>{var t=Object(K.a)("/".concat(e.url_path).concat(e.url_suffix))
return g.a.createElement("li",{key:e.uid,className:a.listItem},g.a.createElement(J.b,{to:t},e.name))}),[a,o]),l=r({id:"noProductsFound.noProductsFound",defaultMessage:"Sorry! We couldn't find any products."})
return g.a.createElement("div",{className:a.root},g.a.createElement(X.a,{alt:l,classes:{image:a.image,root:a.imageContainer},src:ee}),g.a.createElement("h2",{className:a.title},l),g.a.createElement("div",{className:a.categories},g.a.createElement("p",null,g.a.createElement(I.a,{id:"noProductsFound.tryOneOfTheseCategories",defaultMessage:"Try one of these categories"})),g.a.createElement("ul",{className:a.list},i)))},le=ie
ie.propTypes={categoryId:d.number,classes:Object(d.shape)({root:d.string,title:d.string,list:d.string,categories:d.string,listItem:d.string,image:d.string,imageContainer:d.string})}
var ce,se=g.a.lazy(()=>Promise.all([a.e(0),a.e(10),a.e(25)]).then(a.bind(null,"dzHx"))),ue=g.a.lazy(()=>Promise.all([a.e(0),a.e(10),a.e(28)]).then(a.bind(null,"SAkj"))),ge=e=>{var{categoryId:t,data:a,isLoading:r,pageControl:n,sortProps:o,pageSize:i}=e,[l]=o,c=(e=>{var{categoryId:t,data:a,pageSize:r=6}=e,n=Object(b.a)(q,e.operations),{getCategoryContentQuery:o,getProductFiltersByCategoryQuery:i,getCategoryAvailableSortMethodsQuery:l}=n,c=Array.from({length:r}).fill(null),[s,{data:g}]=Object(p.a)(i,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[d,{data:m}]=Object(p.a)(l,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{data:f,loading:h}=Object(y.a)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:!t,variables:{id:t}}),[,{dispatch:E}]=Object(k.b)()
Object(u.useEffect)(()=>{t&&s({variables:{categoryIdFilter:{eq:t}}})},[t,s]),Object(u.useEffect)(()=>{t&&d({variables:{categoryIdFilter:{in:t}}})},[t,d])
var _=g?g.products.aggregations:null,v=a?a.products.items:c,P=a?a.products.page_info.total_pages:null,O=a?a.products.total_count:null,j=f&&f.categories.items.length?f.categories.items[0].name:null,F=f&&f.categories.items.length?f.categories.items[0].description:null,C=m?m.products.sort_fields.options:null
return Object(u.useEffect)(()=>{!h&&f.categories.items.length>0&&E({type:"CATEGORY_PAGE_VIEW",payload:{id:f.categories.items[0].uid,name:f.categories.items[0].name,url_key:f.categories.items[0].url_key,url_path:f.categories.items[0].url_path}})},[f,E,h]),{availableSortMethods:C,categoryName:j,categoryDescription:F,filters:_,items:v,totalCount:O,totalPagesFromData:P}})({categoryId:t,data:a,pageSize:i}),{availableSortMethods:s,categoryName:d,categoryDescription:m,filters:f,items:h,totalCount:E,totalPagesFromData:_}=c,v=Object(u.useRef)(null),P=Object(b.a)(Y.a,e.classes),O=Object(N.a)({elementRef:v}),j=f&&f.length,F=null===f,C=_&&s,S=!_&&r,x=j?g.a.createElement(T.a,{filters:f}):F?g.a.createElement(z.a,null):null,H=j?g.a.createElement(se,{filters:f}):null,J=j?g.a.createElement(ue,{filters:f}):F?g.a.createElement(M.a,null):null,V=C?g.a.createElement(Q.a,{sortProps:o,availableSortMethods:s}):S?g.a.createElement(L.a,null):null,Z=C?g.a.createElement(G.a,{currentSort:l}):S?g.a.createElement(W.a,null):null,K=E>0?g.a.createElement(I.a,{id:"categoryContent.resultCount",values:{count:E},defaultMessage:"{count} Results"}):r?g.a.createElement(U.a,{width:5}):null,X=m?g.a.createElement(R.a,{html:m}):null,ee=Object(u.useMemo)(()=>{if(!_&&!r)return g.a.createElement(le,{categoryId:t})
var e=_?g.a.createElement(D.a,{items:h}):g.a.createElement($.a,{items:h}),a=_?g.a.createElement(A.a,{pageControl:n}):null
return g.a.createElement(u.Fragment,null,g.a.createElement("section",{className:P.gallery},e),g.a.createElement("div",{className:P.pagination},a))},[t,P.gallery,P.pagination,r,h,n,_]),te=d||g.a.createElement(U.a,{width:5})
return g.a.createElement(u.Fragment,null,g.a.createElement(w.a,{categoryId:t}),g.a.createElement(B.b,null,d),g.a.createElement("article",{className:P.root},g.a.createElement("div",{className:P.categoryHeader},g.a.createElement("h1",{"aria-live":"polite",className:P.title},g.a.createElement("div",{className:P.categoryTitle},te)),X),g.a.createElement("div",{className:P.contentWrapper},g.a.createElement("div",{ref:v,className:P.sidebar},g.a.createElement(u.Suspense,{fallback:g.a.createElement(M.a,null)},O?J:null)),g.a.createElement("div",{className:P.categoryContent},g.a.createElement("div",{className:P.heading},g.a.createElement("div",{className:P.categoryInfo},K),g.a.createElement("div",{className:P.headerButtons},x,V),Z),ee,g.a.createElement(u.Suspense,{fallback:null},H)))))},de=ge
ge.propTypes={classes:Object(d.shape)({gallery:d.string,pagination:d.string,root:d.string,categoryHeader:d.string,title:d.string,categoryTitle:d.string,sidebar:d.string,categoryContent:d.string,heading:d.string,categoryInfo:d.string,headerButtons:d.string}),sortProps:d.array,pageSize:d.number}
var me=Object(j.a)(ce||(ce=O()(["\n    query getPageSize {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        storeConfig {\n            store_code\n            grid_per_page\n        }\n    }\n"]))),ye=a("Fk0k"),pe=(new Map).set("NOT_FOUND","Looks like the category you were hoping to find doesn't exist. Sorry about that."),be=e=>{var{uid:t}=e,{formatMessage:a}=Object(H.a)(),r=(e=>{var{id:t,queries:{getPageSize:a}}=e,r=Object(b.a)(S,e.operations),{getCategoryQuery:n,getFilterInputsQuery:o}=r,{data:i}=Object(y.a)(a,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),l=i&&i.storeConfig.grid_per_page,[c,s]=Object(h.a)(),{currentPage:g,totalPages:d}=c,{setCurrentPage:P,setTotalPages:O}=s,j=Object(_.a)({sortFromSearch:!1}),[F]=j,C=Object(u.useRef)(F),I={currentPage:g,setPage:P,totalPages:d},[,{actions:{setPageLoading:N}}]=Object(f.b)(),[k,x]=Object(p.a)(n,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{called:q,loading:w,error:T,data:z}=x,{search:M}=Object(m.h)(),D=!!z&&w
Object(u.useEffect)(()=>{N(D)},[D,N])
var $=Object(u.useRef)(M),{called:B,data:A,loading:Q}=Object(y.a)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),L=Object(u.useMemo)(()=>{var e=new Map
return A&&A.__type.inputFields.forEach(t=>{var{name:a,type:r}=t
e.set(a,r.name)}),e},[A])
Object(u.useEffect)(()=>{if(L.size&&l){var e=Object(v.c)(M),a={}
e.forEach((e,t)=>{a[t]=Object(v.b)(e,L.get(t))}),a.category_uid={eq:t},k({variables:{currentPage:Number(g),id:t,filters:a,pageSize:Number(l),sort:{[F.sortAttribute]:F.sortDirection}}})}},[g,F,L,t,l,k,M])
var R=z?z.products.page_info.total_pages:null
Object(u.useEffect)(()=>(O(R),()=>{O(null)}),[O,R]),Object(u.useEffect)(()=>{!T||w||z||1===g||P(1)},[g,T,w,P,z]),Object(u.useEffect)(()=>{var e=new URLSearchParams($.current),t=new URLSearchParams(M)
e.delete("page"),t.delete("page"),e.toString()===t.toString()&&C.current.sortAttribute.toString()===F.sortAttribute.toString()&&C.current.sortDirection.toString()===F.sortDirection.toString()||(P(1,!0),$.current=M,C.current=F)},[F,$,M,P])
var U=w&&!z?null:z,G=!w&&z&&0===z.categories.items.length,W=z&&z.categories.items[0]&&z.categories.items[0].meta_description?z.categories.items[0].meta_description:"",Y=B&&!q||w&&!z||Q
return Object(E.a)(g),{error:T,categoryData:U,loading:Y,metaDescription:W,pageControl:I,sortProps:j,pageSize:l,categoryNotFound:G}})({id:t,queries:{getPageSize:me}}),{error:n,metaDescription:o,loading:i,categoryData:l,pageControl:c,sortProps:s,pageSize:d,categoryNotFound:P}=r,O=Object(b.a)(Y.a,e.classes)
return!l&&n&&1===c.currentPage?g.a.createElement(ye.a,null):P?g.a.createElement(ye.a,{message:a({id:"category.notFound",defaultMessage:pe.get("NOT_FOUND")})}):g.a.createElement(u.Fragment,null,g.a.createElement(B.a,{name:"description",content:o}),g.a.createElement(de,{categoryId:t,classes:O,data:l,isLoading:i,pageControl:c,sortProps:s,pageSize:d}))}
be.propTypes={classes:Object(d.shape)({gallery:d.string,root:d.string,title:d.string}),uid:d.string},be.defaultProps={uid:"Mg=="}
var fe=be},Rpel:function(e,t,a){"use strict"
var r,n,o=a("q1tI"),i=a.n(o),l=a("kriW"),c=a("17x9"),s=a("55Ip"),u=a("+TN3"),g=a("CjCK"),d=a("y1Xp"),m=a("VkAN"),y=a.n(m),p=a("UYTu"),b=Object(p.a)(r||(r=y()(["\n    query GetStoreConfigForBreadcrumbs {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        storeConfig {\n            store_code\n            category_url_suffix\n        }\n    }\n"]))),f={getBreadcrumbsQuery:Object(p.a)(n||(n=y()(["\n    query GetBreadcrumbs($category_id: String!) {\n        categories(filters: { category_uid: { in: [$category_id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                breadcrumbs {\n                    category_uid\n                    # We may not need level if `breadcrumbs` is sorted.\n                    category_level\n                    category_name\n                    category_url_path\n                }\n                uid\n                name\n                url_path\n            }\n        }\n    }\n"],["\n    query GetBreadcrumbs($category_id: String!) {\n        categories(filters: { category_uid: { in: [$category_id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                breadcrumbs {\n                    category_uid\n                    # We may not need level if \\`breadcrumbs\\` is sorted.\n                    category_level\n                    category_name\n                    category_url_path\n                }\n                uid\n                name\n                url_path\n            }\n        }\n    }\n"]))),getStoreConfigQuery:b},h=(e,t)=>e.category_level>t.category_level,E=(e,t)=>e?"/".concat(e).concat(t||""):"#",_=a("STEg"),v=a("265v"),P=a("GHYJ"),O=e=>{var t=Object(d.a)(P.a,e.classes),{categoryId:a,currentProduct:r}=e,n=(e=>{var{categoryId:t}=e,a=Object(d.a)(f,e.operations),{getBreadcrumbsQuery:r,getStoreConfigQuery:n}=a,{data:i,loading:l,error:c}=Object(u.a)(r,{variables:{category_id:t},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{data:s}=Object(u.a)(n,{fetchPolicy:"cache-and-network"}),m=Object(o.useMemo)(()=>{if(s)return s.storeConfig.category_url_suffix},[s]),y=Object(o.useMemo)(()=>{if(!l&&i&&i.categories.items.length){var e=i.categories.items[0].breadcrumbs
return e&&e.map(e=>({category_level:e.category_level,text:e.category_name,path:E(e.category_url_path,m)})).sort(h)}},[m,i,l]),{setShimmerType:p}=Object(g.a)("category")
return{currentCategory:i&&i.categories.items.length&&i.categories.items[0].name||"",currentCategoryPath:i&&i.categories.items.length&&"".concat(i.categories.items[0].url_path).concat(m||"")||"#",isLoading:l,hasError:!!c,normalizedData:y||[],handleClick:p}})({categoryId:a}),{currentCategory:c,currentCategoryPath:m,hasError:y,isLoading:p,normalizedData:b,handleClick:O}=n,j=Object(o.useMemo)(()=>b.map(e=>{var{text:a,path:r}=e
return i.a.createElement(o.Fragment,{key:a},i.a.createElement("span",{className:t.divider},"/"),i.a.createElement(s.b,{className:t.link,to:Object(_.a)(r),onClick:O},a))}),[t.divider,t.link,O,b])
if(p)return i.a.createElement(v.a,null)
if(y)return i.a.createElement("div",{className:t.root,"aria-live":"polite","aria-busy":"false"})
var F=r?i.a.createElement(s.b,{className:t.link,to:Object(_.a)(m),onClick:O},c):i.a.createElement("span",{className:t.currentCategory},c),C=r?i.a.createElement(o.Fragment,null,i.a.createElement("span",{className:t.divider},"/"),i.a.createElement("span",{className:t.text},r)):null
return i.a.createElement("div",{className:t.root,"aria-live":"polite","aria-busy":"false"},i.a.createElement(s.b,{className:t.link,to:"/"},i.a.createElement(l.a,{id:"global.home",defaultMessage:"Home"})),j,i.a.createElement("span",{className:t.divider},"/"),F,C)}
t.a=O
O.propTypes={categoryId:c.string.isRequired,currentProduct:c.string}},ZBw8:function(e,t,a){"use strict"
var r=a("JPst"),n=a.n(r)()(function(e){return e[1]})
n.push([e.i,".noProductsFound-root--7F {\n}\n\n.noProductsFound-title-Ecz {\n}\n\n.noProductsFound-categories-xqT {\n}\n\n.noProductsFound-list-zoU {\n}\n\n.noProductsFound-listItem-ik7 {\n}\n\n.noProductsFound-imageContainer-qy1 {\n}\n\n.noProductsFound-image-pVs {\n}\n",""]),n.locals={root:"noProductsFound-root--7F flex flex-col h-screen items-center justify-center",title:"noProductsFound-title-Ecz font-semibold text-colorDefault text-center",categories:"noProductsFound-categories-xqT mt-md",list:"noProductsFound-list-zoU mt-xs",listItem:"noProductsFound-listItem-ik7 mb-2xs text-center underline last_mb-0",imageContainer:"noProductsFound-imageContainer-qy1 mb-md",image:"noProductsFound-image-pVs h-[200px] max-w-[200px] w-[200px]"},t.a=n}}])
